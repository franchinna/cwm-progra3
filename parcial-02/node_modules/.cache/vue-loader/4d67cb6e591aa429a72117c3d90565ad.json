{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/App.vue","mtime":1677003766475},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/babel-loader/lib/index.js","mtime":1673909576330},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js","mtime":1673909584926}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBzdG9yZSBmcm9tICIuL3N0b3JlIjsKaW1wb3J0IEJhc2VOb3RpZmljYWNpb24gZnJvbSAiLi9jb21wb25lbnRzL0Jhc2VOb3RpZmljYWNpb24iOwppbXBvcnQgYXV0aFNlcnZpY2UgZnJvbSAiLi9zZXJ2aWNlcy9hdXRoIjsKaW1wb3J0IHsgUEFUSF9JTUdTIH0gZnJvbSAiQC9jb25zdGFudHMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGNvbXBvbmVudHM6IHsKICAgIEJhc2VOb3RpZmljYWNpb24sCiAgfSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBzdG9yZSwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXIiKSAhPT0gbnVsbCkgewogICAgICB0aGlzLnN0b3JlLmF1dGggPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpOwogICAgICBhdXRoU2VydmljZS5sb2dVc2VyKHRoaXMuc3RvcmUuYXV0aCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZU5vdGlmaWNhdGlvbigpIHsKICAgICAgdGhpcy5zdG9yZS5jbGVhclN0YXR1cygpOwogICAgfSwKCiAgICBsb2dvdXQoKSB7CiAgICAgIGF1dGhTZXJ2aWNlLmxvZ291dCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vIERlc2xvZ3VlYW1vcyBhbCB1c3VhcmlvLgogICAgICAgIHRoaXMuc3RvcmUuYXV0aCA9IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgZW1haWw6IG51bGwsCiAgICAgICAgICB1c3VhcmlvOiBudWxsLAogICAgICAgICAgaW1hZ2VuOiBudWxsLAogICAgICAgIH07CgogICAgICAgIHRoaXMuZXN0YUNhcmdhbmRvID0gZmFsc2U7CiAgICAgICAgLy8gTG8gYm9ycm8gZGUgbG9jYWxTdG9yYWdlLgogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyIik7CiAgICAgICAgdGhpcy5zdG9yZS5jbGVhclN0YXR1cygpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6ewoKICAgIC8qKgogICAgICogQHJldHVybiB7U3RyaW5nfQogICAgICovCiAgICBpbWFnZW5QYXRoKCkgewogICAgICByZXR1cm4gYCR7UEFUSF9JTUdTfS9wZXJmaWwvJHt0aGlzLnN0b3JlLmF1dGguaW1hZ2VufWA7CiAgICB9LAoKICAgIC8qKgogICAgICoKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59CiAgICAgKi8KICAgIHRpZW5lSW1hZ2VuKCkgewogICAgICByZXR1cm4gdGhpcy5zdG9yZS5hdXRoLmltYWdlbiAhPT0gbnVsbCAmJiB0aGlzLnN0b3JlLmF1dGguaW1hZ2VuICE9PSAiIjsKICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";AA4FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <header class=\"d-block mb-5\">\n      <nav class=\"navbar fixed-top navbar-expand-lg navbar-light\">\n        <router-link class=\"navbar-brand\" to=\"/\">\n          <h1 class=\"logo\">AddcarApp El Foro</h1>\n        </router-link>\n        <button\n          class=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarNavAltMarkup\"\n          aria-controls=\"navbarNavAltMarkup\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        <div\n          class=\"collapse navbar-collapse justify-content-end\"\n          id=\"navbarNavAltMarkup\"\n        >\n          <div class=\"navbar-nav align-content-center\">\n            <ul class=\"navbar-nav\">\n              <li class=\"nav-item\" v-if=\"store.auth.id !== null\">\n                <router-link\n                  class=\"nav-link d-flex align-items-center\"\n                  data-ancla=\"true\"\n                  to=\"/PosteoNuevo\"\n                  title=\"Nuevo post\"\n                >\n                  <i class=\"bi bi-plus-circle\"></i>\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link \n                class=\"nav-link\" \n                data-ancla=\"true\" \n                to=\"/\"\n                title=\"Home\"\n                  >\n                  <i class=\"bi bi-house-door\"></i>\n                </router-link>\n              </li>\n              <li class=\"nav-item\" v-if=\"store.auth.id !== null\">\n                <router-link class=\"nav-link\" data-ancla=\"true\" to=\"#\" title=\"Notificaciones\"\n                  >\n                  <i class=\"bi bi-bell\"></i>\n                </router-link>\n              </li>\n              <li class=\"nav-item dropdown\" v-if=\"store.auth.id !== null\">\n                <a\n                  class=\"nav-link dropdown-toggle\"\n                  href=\"#\"\n                  role=\"button\"\n                  data-toggle=\"dropdown\"\n                  aria-expanded=\"false\"\n                  title=\"Perfil\"\n                >\n                  <img :src=\"imagenPath\" alt=\"\" class=\"img-fluid\" style=\"width: 30px; border-radius: 100px\">\n                </a>\n                <div class=\"dropdown-menu\">\n                  <router-link class=\"dropdown-item\" to=\"/perfil\">\n                    <i class=\"bi bi-person-circle\"></i>Mi perfil</router-link>\n                  <router-link class=\"dropdown-item\" to=\"/amigos\">\n                    <i class=\"bi bi-people\"></i>Mis Amigos</router-link>\n                  <a class=\"dropdown-item\" href=\"#\" @click=\"logout\">\n                    <i class=\"bi bi-box-arrow-in-right\"></i>Cerrar sesi√≥n</a>\n                </div>\n              </li>\n              <li class=\"nav-item\" v-if=\"store.auth.id === null\">\n                <router-link class=\"nav-link\" to=\"/login\"\n                  >Login\n                </router-link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </header>\n    <BaseNotificacion\n      v-if=\"store.status.mensaje != null\"\n      :titulo=\"store.status.titulo\"\n      :mensaje=\"store.status.mensaje\"\n      :tipo=\"store.status.tipo\"\n      @close=\"closeNotification()\"\n    />\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport store from \"./store\";\nimport BaseNotificacion from \"./components/BaseNotificacion\";\nimport authService from \"./services/auth\";\nimport { PATH_IMGS } from \"@/constants\";\n\nexport default {\n  name: \"App\",\n  components: {\n    BaseNotificacion,\n  },\n  data: function () {\n    return {\n      store,\n    };\n  },\n  mounted: function () {\n    if (localStorage.getItem(\"user\") !== null) {\n      this.store.auth = JSON.parse(localStorage.getItem(\"user\"));\n      authService.logUser(this.store.auth);\n    }\n  },\n  methods: {\n    closeNotification() {\n      this.store.clearStatus();\n    },\n\n    logout() {\n      authService.logout().then((res) => {\n        // Deslogueamos al usuario.\n        this.store.auth = {\n          id: null,\n          email: null,\n          usuario: null,\n          imagen: null,\n        };\n\n        this.estaCargando = false;\n        // Lo borro de localStorage.\n        localStorage.removeItem(\"user\");\n        this.store.clearStatus();\n        this.$router.push(\"/login\");\n      });\n    },\n  },\n  computed:{\n\n    /**\n     * @return {String}\n     */\n    imagenPath() {\n      return `${PATH_IMGS}/perfil/${this.store.auth.imagen}`;\n    },\n\n    /**\n     *\n     * @return {boolean}\n     */\n    tieneImagen() {\n      return this.store.auth.imagen !== null && this.store.auth.imagen !== \"\";\n    },\n  }\n};\n</script>\n"]}]}