{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/components/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/components/LoginForm.vue","mtime":1605649008000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/babel-loader/lib/index.js","mtime":1673909576330},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js","mtime":1673909584926}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXV0aFNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvYXV0aCI7DQppbXBvcnQgc3RvcmUgZnJvbSAnLi8uLi9zdG9yZSc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCm5hbWU6ICJsb2dpbi1mb3JtIiwNCiAgcHJvcHM6e30sDQogIGRhdGE6ICgpID0+ICh7DQogICAgY3JlZGVuY2lhbGVzOiB7DQogICAgICBlbWFpbDogbnVsbCwNCiAgICAgIHBhc3N3b3JkOiBudWxsDQogICAgfSwNCiAgICBzdGF0dXM6ew0KICAgICAgdGl0dWxvOiBudWxsLA0KICAgICAgbWVuc2FqZTogbnVsbCwNCiAgICAgIHRpcG86ICdpbmZvJw0KICAgIH0sDQogICAgc3RvcmUNCiAgfSksDQogIGNvbXB1dGVkOiB7fSwNCiAgbWV0aG9kczogew0KICAgIGxvZ2luOiBmdW5jdGlvbiAoY3JlZGVuY2lhbGVzKXsNCiAgICAgIGF1dGhTZXJ2aWNlDQogICAgICAubG9naW4oY3JlZGVuY2lhbGVzKQ0KICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYocmVzICE9PSBmYWxzZSl7DQogICAgICAgICAgdGhpcy5zdGF0dXMgPSB7DQogICAgICAgICAgICB0aXR1bG86ICfDiXhpdG8nLA0KICAgICAgICAgICAgbWVuc2FqZTogJ0JpZW52ZW5pZG8gYWwgRm9ybyBkZSBBRERDQVJEIScsDQogICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJw0KICAgICAgICAgIH07DQogICAgICAgICAgdGhpcy5zdG9yZS5hdXRoID0gew0KICAgICAgICAgICAgaWQ6IHJlcy5pZCwNCiAgICAgICAgICAgIGVtYWlsOiByZXMuZW1haWwsDQogICAgICAgICAgICB1c3VhcmlvOiByZXMudXN1YXJpbywNCiAgICAgICAgICAgIGltYWdlbjogcmVzLmltYWdlbiwNCg0KICAgICAgICAgIH07DQogICAgICAgICAgLy8gR3VhcmRhbW9zIGVsIHVzdWFyaW8gZW4gbG9jYWxTdG9yYWdlLg0KICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodGhpcy5zdG9yZS5hdXRoKSk7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wZXJmaWwnKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy5zdGF0dXMgPSB7DQogICAgICAgICAgICB0aXR1bG86ICdFcnJvcicsDQogICAgICAgICAgICBtZW5zYWplOiAnTGFzIGNyZWRlbmNpYWxlcyBzb24gaW5jb3JyZWN0YXMuIEludGVudGEgbnVldmFtZW50ZS4nLA0KICAgICAgICAgICAgdGlwbzogJ2Rhbmdlci4nDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";AAmCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <form action=\"#\"\r\n        id=\"form-login\"\r\n        method=\"GET\"\r\n        @submit.prevent=\"login(credenciales)\"\r\n  >\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"email\" class=\"sr-only\">Ingresa tu usuario</label>\r\n      <input type=\"email\"\r\n             class=\"form-control\"\r\n             name=\"email\"\r\n             id=\"email\"\r\n             placeholder=\"Ingresa tu usuario\"\r\n             v-model=\"credenciales.email\"\r\n      >\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"password\"\r\n             class=\"sr-only\">Ingresa tu password</label>\r\n      <input type=\"password\"\r\n             class=\"form-control\"\r\n             name=\"password\"\r\n             id=\"password\"\r\n             placeholder=\"Ingresa tu password\"\r\n             v-model=\"credenciales.password\"\r\n      >\r\n    </div>\r\n    <div class=\"button\">\r\n      <button type=\"submit\" class=\"btn btn-outline-primary\">Identificarme</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport authService from \"../services/auth\";\r\nimport store from './../store';\r\n\r\nexport default {\r\nname: \"login-form\",\r\n  props:{},\r\n  data: () => ({\r\n    credenciales: {\r\n      email: null,\r\n      password: null\r\n    },\r\n    status:{\r\n      titulo: null,\r\n      mensaje: null,\r\n      tipo: 'info'\r\n    },\r\n    store\r\n  }),\r\n  computed: {},\r\n  methods: {\r\n    login: function (credenciales){\r\n      authService\r\n      .login(credenciales)\r\n      .then(res => {\r\n        if(res !== false){\r\n          this.status = {\r\n            titulo: 'Ã‰xito',\r\n            mensaje: 'Bienvenido al Foro de ADDCARD!',\r\n            status: 'success'\r\n          };\r\n          this.store.auth = {\r\n            id: res.id,\r\n            email: res.email,\r\n            usuario: res.usuario,\r\n            imagen: res.imagen,\r\n\r\n          };\r\n          // Guardamos el usuario en localStorage.\r\n          localStorage.setItem('user', JSON.stringify(this.store.auth));\r\n          this.$router.push('/perfil');\r\n        }else{\r\n          this.status = {\r\n            titulo: 'Error',\r\n            mensaje: 'Las credenciales son incorrectas. Intenta nuevamente.',\r\n            tipo: 'danger.'\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}