{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/components/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/components/LoginForm.vue","mtime":1675733688800},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/babel-loader/lib/index.js","mtime":1673909576330},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js","mtime":1673909584926}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXV0aFNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvYXV0aCI7DQppbXBvcnQgc3RvcmUgZnJvbSAnLi8uLi9zdG9yZSc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCm5hbWU6ICJsb2dpbi1mb3JtIiwNCiAgcHJvcHM6e30sDQogIGRhdGE6ICgpID0+ICh7DQogICAgY3JlZGVuY2lhbGVzOiB7DQogICAgICBlbWFpbDogbnVsbCwNCiAgICAgIHBhc3N3b3JkOiBudWxsDQogICAgfSwNCiAgICBzdGF0dXM6ew0KICAgICAgdGl0dWxvOiBudWxsLA0KICAgICAgbWVuc2FqZTogbnVsbCwNCiAgICAgIHRpcG86ICdpbmZvJw0KICAgIH0sDQogICAgc3RvcmUNCiAgfSksDQogIGNvbXB1dGVkOiB7fSwNCiAgbWV0aG9kczogew0KICAgIGxvZ2luOiBmdW5jdGlvbiAoY3JlZGVuY2lhbGVzKXsNCiAgICAgIGF1dGhTZXJ2aWNlDQogICAgICAubG9naW4oY3JlZGVuY2lhbGVzKQ0KICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYocmVzICE9PSBmYWxzZSl7DQogICAgICAgICAgdGhpcy5zdGF0dXMgPSB7DQogICAgICAgICAgICB0aXR1bG86ICfDiXhpdG8nLA0KICAgICAgICAgICAgbWVuc2FqZTogJ0JpZW52ZW5pZG8gYWwgRm9ybyBkZSBBRERDQVIhJywNCiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnDQogICAgICAgICAgfTsNCiAgICAgICAgICB0aGlzLnN0b3JlLmF1dGggPSB7DQogICAgICAgICAgICBpZDogcmVzLmlkLA0KICAgICAgICAgICAgZW1haWw6IHJlcy5lbWFpbCwNCiAgICAgICAgICAgIHVzdWFyaW86IHJlcy51c3VhcmlvLA0KICAgICAgICAgICAgaW1hZ2VuOiByZXMuaW1hZ2VuLA0KDQogICAgICAgICAgfTsNCiAgICAgICAgICAvLyBHdWFyZGFtb3MgZWwgdXN1YXJpbyBlbiBsb2NhbFN0b3JhZ2UuDQogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh0aGlzLnN0b3JlLmF1dGgpKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3BlcmZpbCcpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnN0YXR1cyA9IHsNCiAgICAgICAgICAgIHRpdHVsbzogJ0Vycm9yJywNCiAgICAgICAgICAgIG1lbnNhamU6ICdMYXMgY3JlZGVuY2lhbGVzIHNvbiBpbmNvcnJlY3Rhcy4gSW50ZW50YSBudWV2YW1lbnRlLicsDQogICAgICAgICAgICB0aXBvOiAnZGFuZ2VyLicNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";AAmCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <form action=\"#\"\r\n        id=\"form-login\"\r\n        method=\"GET\"\r\n        @submit.prevent=\"login(credenciales)\"\r\n  >\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"email\" class=\"sr-only\">Ingresa tu usuario</label>\r\n      <input type=\"email\"\r\n             class=\"form-control\"\r\n             name=\"email\"\r\n             id=\"email\"\r\n             placeholder=\"Ingresa tu usuario\"\r\n             v-model=\"credenciales.email\"\r\n      >\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"password\"\r\n             class=\"sr-only\">Ingresa tu password</label>\r\n      <input type=\"password\"\r\n             class=\"form-control\"\r\n             name=\"password\"\r\n             id=\"password\"\r\n             placeholder=\"Ingresa tu password\"\r\n             v-model=\"credenciales.password\"\r\n      >\r\n    </div>\r\n    <div class=\"button\">\r\n      <button type=\"submit\" class=\"btn btn-outline-primary\">Ingresar al sitio</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport authService from \"../services/auth\";\r\nimport store from './../store';\r\n\r\nexport default {\r\nname: \"login-form\",\r\n  props:{},\r\n  data: () => ({\r\n    credenciales: {\r\n      email: null,\r\n      password: null\r\n    },\r\n    status:{\r\n      titulo: null,\r\n      mensaje: null,\r\n      tipo: 'info'\r\n    },\r\n    store\r\n  }),\r\n  computed: {},\r\n  methods: {\r\n    login: function (credenciales){\r\n      authService\r\n      .login(credenciales)\r\n      .then(res => {\r\n        if(res !== false){\r\n          this.status = {\r\n            titulo: 'Ã‰xito',\r\n            mensaje: 'Bienvenido al Foro de ADDCAR!',\r\n            status: 'success'\r\n          };\r\n          this.store.auth = {\r\n            id: res.id,\r\n            email: res.email,\r\n            usuario: res.usuario,\r\n            imagen: res.imagen,\r\n\r\n          };\r\n          // Guardamos el usuario en localStorage.\r\n          localStorage.setItem('user', JSON.stringify(this.store.auth));\r\n          this.$router.push('/perfil');\r\n        }else{\r\n          this.status = {\r\n            titulo: 'Error',\r\n            mensaje: 'Las credenciales son incorrectas. Intenta nuevamente.',\r\n            tipo: 'danger.'\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}