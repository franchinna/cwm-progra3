{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/components/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/components/LoginForm.vue","mtime":1675733688800},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/babel.config.js","mtime":1604343550000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/babel-loader/lib/index.js","mtime":1673909576330},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/vue-loader/lib/index.js","mtime":1673909584926}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBhdXRoU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9hdXRoIjsKaW1wb3J0IHN0b3JlIGZyb20gJy4vLi4vc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luLWZvcm0iLAogIHByb3BzOiB7fSwKICBkYXRhOiAoKSA9PiAoewogICAgY3JlZGVuY2lhbGVzOiB7CiAgICAgIGVtYWlsOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbAogICAgfSwKICAgIHN0YXR1czogewogICAgICB0aXR1bG86IG51bGwsCiAgICAgIG1lbnNhamU6IG51bGwsCiAgICAgIHRpcG86ICdpbmZvJwogICAgfSwKICAgIHN0b3JlCiAgfSksCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiAoY3JlZGVuY2lhbGVzKSB7CiAgICAgIGF1dGhTZXJ2aWNlLmxvZ2luKGNyZWRlbmNpYWxlcykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMgIT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLnN0YXR1cyA9IHsKICAgICAgICAgICAgdGl0dWxvOiAnw4l4aXRvJywKICAgICAgICAgICAgbWVuc2FqZTogJ0JpZW52ZW5pZG8gYWwgRm9ybyBkZSBBRERDQVIhJywKICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLnN0b3JlLmF1dGggPSB7CiAgICAgICAgICAgIGlkOiByZXMuaWQsCiAgICAgICAgICAgIGVtYWlsOiByZXMuZW1haWwsCiAgICAgICAgICAgIHVzdWFyaW86IHJlcy51c3VhcmlvLAogICAgICAgICAgICBpbWFnZW46IHJlcy5pbWFnZW4KICAgICAgICAgIH07CiAgICAgICAgICAvLyBHdWFyZGFtb3MgZWwgdXN1YXJpbyBlbiBsb2NhbFN0b3JhZ2UuCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHRoaXMuc3RvcmUuYXV0aCkpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wZXJmaWwnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zdGF0dXMgPSB7CiAgICAgICAgICAgIHRpdHVsbzogJ0Vycm9yJywKICAgICAgICAgICAgbWVuc2FqZTogJ0xhcyBjcmVkZW5jaWFsZXMgc29uIGluY29ycmVjdGFzLiBJbnRlbnRhIG51ZXZhbWVudGUuJywKICAgICAgICAgICAgdGlwbzogJ2Rhbmdlci4nCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";AAmCA;AACA;AAEA;EACAA;EACAC;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAC;MACAC;MACAC;IACA;IACAC;EACA;EACAC;EACAC;IACAC;MACAC,YACAD,oBACAE;QACA;UACA;YACAR;YACAC;YACAF;UACA;UACA;YACAU;YACAZ;YACAa;YACAC;UAEA;UACA;UACAC;UACA;QACA;UACA;YACAZ;YACAC;YACAC;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","props","data","credenciales","email","password","status","titulo","mensaje","tipo","store","computed","methods","login","authService","then","id","usuario","imagen","localStorage"],"sourceRoot":"src/components","sources":["LoginForm.vue"],"sourcesContent":["<template>\r\n  <form action=\"#\"\r\n        id=\"form-login\"\r\n        method=\"GET\"\r\n        @submit.prevent=\"login(credenciales)\"\r\n  >\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"email\" class=\"sr-only\">Ingresa tu usuario</label>\r\n      <input type=\"email\"\r\n             class=\"form-control\"\r\n             name=\"email\"\r\n             id=\"email\"\r\n             placeholder=\"Ingresa tu usuario\"\r\n             v-model=\"credenciales.email\"\r\n      >\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"password\"\r\n             class=\"sr-only\">Ingresa tu password</label>\r\n      <input type=\"password\"\r\n             class=\"form-control\"\r\n             name=\"password\"\r\n             id=\"password\"\r\n             placeholder=\"Ingresa tu password\"\r\n             v-model=\"credenciales.password\"\r\n      >\r\n    </div>\r\n    <div class=\"button\">\r\n      <button type=\"submit\" class=\"btn btn-outline-primary\">Ingresar al sitio</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport authService from \"../services/auth\";\r\nimport store from './../store';\r\n\r\nexport default {\r\nname: \"login-form\",\r\n  props:{},\r\n  data: () => ({\r\n    credenciales: {\r\n      email: null,\r\n      password: null\r\n    },\r\n    status:{\r\n      titulo: null,\r\n      mensaje: null,\r\n      tipo: 'info'\r\n    },\r\n    store\r\n  }),\r\n  computed: {},\r\n  methods: {\r\n    login: function (credenciales){\r\n      authService\r\n      .login(credenciales)\r\n      .then(res => {\r\n        if(res !== false){\r\n          this.status = {\r\n            titulo: 'Ã‰xito',\r\n            mensaje: 'Bienvenido al Foro de ADDCAR!',\r\n            status: 'success'\r\n          };\r\n          this.store.auth = {\r\n            id: res.id,\r\n            email: res.email,\r\n            usuario: res.usuario,\r\n            imagen: res.imagen,\r\n\r\n          };\r\n          // Guardamos el usuario en localStorage.\r\n          localStorage.setItem('user', JSON.stringify(this.store.auth));\r\n          this.$router.push('/perfil');\r\n        }else{\r\n          this.status = {\r\n            titulo: 'Error',\r\n            mensaje: 'Las credenciales son incorrectas. Intenta nuevamente.',\r\n            tipo: 'danger.'\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}