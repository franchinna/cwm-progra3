{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/eslint-loader/index.js??ref--14-0!/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/services/posteos.js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/services/posteos.js","mtime":1675546794067},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/babel.config.js","mtime":1604343550000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/cache-loader/dist/cjs.js","mtime":1673909588044},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/babel-loader/lib/index.js","mtime":1673909576330},{"path":"/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/node_modules/eslint-loader/index.js","mtime":1673909585596}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQVBJIH0gZnJvbSAiLi4vY29uc3RhbnRzIjsKbGV0IHBvc3Rlb3MgPSBudWxsOwoKLy8gQ3JlYW1vcyBlbCBvYmpldG8gZGVsIHNlcnZpY2lvLgpjb25zdCBwb3N0ZW9zU2VydmljZSA9IHsKICAvKioNCiAgICogUmV0b3JuYSBsb3MgcG9zdGVvcy4NCiAgICoNCiAgICogQHJldHVybiB7UHJvbWlzZTxSZXNwb25zZSB8IG5ldmVyPn0NCiAgICovCiAgZ2V0QWxsOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9wb3N0ZW9zYCwgewogICAgICAvLyAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgIH0pOwogICAgY29uc3QgcmVzcHVlc3RhID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5qc29uKCk7CiAgICBwb3N0ZW9zID0gcmVzcHVlc3RhLmRhdGE7CiAgICByZXR1cm4gWy4uLnBvc3Rlb3NdOwogIH0sCiAgLyoqDQogICAqIFJldG9ybmEgbG9zIGFtaWdvcyBkZSB1biB1c3VhcmlvLg0KICAgKg0KICAgKiBAcGFyYW0ge051bWJlcn0gaWQNCiAgICogQHJldHVybiB7UHJvbWlzZX0NCiAgICovCiAgZ2V0UG9zdGVvczogYXN5bmMgZnVuY3Rpb24gKGlkKSB7CiAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJfS9taXNfcG9zdGVvcy8ke2lkfWAsIHsKICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgfSk7CiAgICBjb25zdCByZXNwdWVzdGEgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLmpzb24oKTsKICAgIHJldHVybiBbLi4ucmVzcHVlc3RhLmRhdGFdOwogIH0sCiAgLyoqDQogICAqIFJldG9ybmEgbG9zIGRhdG9zIGRlIHVuIHBvc3Rlby4NCiAgICoNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkDQogICAqIEByZXR1cm4ge1Byb21pc2V9DQogICAqLwogIGFzeW5jIGdldEJ5UGsoaWQpIHsKICAgIGNvbnN0IGZldGNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUEl9L3Bvc3Rlb3MvJHtpZH1gLCB7CiAgICAgIC8vIFBvciBkZWZlY3RvLCBmZXRjaCAqbm8qIGVudsOtYSBuaSByZWNpYmUgY29va2llcy4KICAgICAgLy8gU2kgcXVpZXJvIHBlcm1pdGlyIGVsIHVzbyBkZSBjb29raWVzLCB0ZW5nbyBxdWUgZXhwbMOtY2l0YW1lbnRlIGRlY2xhcmFybG8gY29uIGxhIHNpZ3VpZW50ZQogICAgICAvLyBwcm9waWVkYWQ6CiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgIH0pOwogICAgY29uc3QgcmVzcHVlc3RhID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5qc29uKCk7CiAgICByZXR1cm4gewogICAgICAuLi5yZXNwdWVzdGEuZGF0YQogICAgfTsKICB9LAogIC8qKg0KICAgKiBDcmVhIHVuIG51ZXZvIHBvc3RlbyBlbiBlbCBzZXJ2aWRvci4NCiAgICoNCiAgICogQHBhcmFtIHt7fX0gZGF0YQ0KICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlc3BvbnNlIHwgbmV2ZXI+fQ0KICAgKi8KICBjcmVhdGU6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICByZXR1cm4gZmV0Y2goYCR7QVBJfS9wb3N0ZW9zYCwgewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksCiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgIH0pLnRoZW4ocnRhID0+IHJ0YS5qc29uKCkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9KTsKICB9LAogIC8qKg0KICAgKiBFZGl0YSB1biBwb3N0ZW8gZW4gZWwgc2Vydmlkb3Igc2Vnw7puIHN1IGlkLg0KICAgKg0KICAgKiBAcGFyYW0ge051bWJlcn0gaWQNCiAgICogQHBhcmFtIHt7fX0gZGF0YQ0KICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlc3BvbnNlIHwgbmV2ZXI+fQ0KICAgKi8KICBlZGl0OiBmdW5jdGlvbiAoaWQsIGRhdGEpIHsKICAgIHJldHVybiBmZXRjaChgJHtBUEl9L3Bvc3Rlb3MucGhwP2lkPSR7aWR9YCwgewogICAgICBtZXRob2Q6ICdQVVQnLAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwKICAgICAgLy8gUG9yIGRlZmVjdG8sIGZldGNoICpubyogZW52w61hIG5pIHJlY2liZSBjb29raWVzLgogICAgICAvLyBTaSBxdWllcm8gcGVybWl0aXIgZWwgdXNvIGRlIGNvb2tpZXMsIHRlbmdvIHF1ZSBleHBsw61jaXRhbWVudGUgZGVjbGFyYXJsbyBjb24gbGEgc2lndWllbnRlCiAgICAgIC8vIHByb3BpZWRhZDoKICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgfSkudGhlbihydGEgPT4gcnRhLmpzb24oKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0pOwogIH0sCiAgLyoqDQogICAqIEVsaW1pbmEgdW4gcG9zdGVvIGVuIGVsIHNlcnZpZG9yIHNlZ8O6biBzdSBpZC4NCiAgICoNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkDQogICAqIEByZXR1cm4ge1Byb21pc2V9DQogICAqLwogIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIChpZCkgewogICAgcmV0dXJuIGZldGNoKGAke0FQSX0vcG9zdGVvcy8ke2lkfWAsIHsKICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgfSkudGhlbihydGEgPT4gcnRhLmpzb24oKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHJldHVybiByZXNwb25zZS5zdWNjZXNzOwogICAgfSk7CiAgfQp9OwoKLy8gRXhwb3J0YW1vcyBlbCBzZXJ2aWNpby4KZXhwb3J0IGRlZmF1bHQgcG9zdGVvc1NlcnZpY2U7"},{"version":3,"names":["API","posteos","posteosService","getAll","fetchResponse","fetch","respuesta","json","data","getPosteos","id","credentials","getByPk","create","method","body","JSON","stringify","then","rta","response","edit","deleteItem","success"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/Parcial-02_Progra-III-CW_2020/parcial-02/src/services/posteos.js"],"sourcesContent":["import {API} from \"../constants\";\r\n\r\n\r\nlet posteos = null;\r\n\r\n// Creamos el objeto del servicio.\r\nconst posteosService = {\r\n    /**\r\n     * Retorna los posteos.\r\n     *\r\n     * @return {Promise<Response | never>}\r\n     */\r\n    getAll: async function() {\r\n        const fetchResponse = await fetch(`${API}/posteos`, {\r\n//            credentials: 'include'\r\n        });\r\n        const respuesta = await fetchResponse.json();\r\n        posteos = respuesta.data;\r\n        \r\n        return [...posteos];\r\n    },\r\n\r\n    /**\r\n     * Retorna los amigos de un usuario.\r\n     *\r\n     * @param {Number} id\r\n     * @return {Promise}\r\n     */\r\n    getPosteos:async function(id) {\r\n\r\n        const fetchResponse = await fetch(`${API}/mis_posteos/${id}`, {\r\n            credentials: 'include'\r\n        });\r\n        const respuesta = await fetchResponse.json();\r\n        \r\n        return [...respuesta.data];\r\n    },\r\n\r\n    /**\r\n     * Retorna los datos de un posteo.\r\n     *\r\n     * @param {Number} id\r\n     * @return {Promise}\r\n     */\r\n    async getByPk(id) {\r\n        const fetchResponse = await fetch(`${API}/posteos/${id}`, {\r\n            // Por defecto, fetch *no* envía ni recibe cookies.\r\n            // Si quiero permitir el uso de cookies, tengo que explícitamente declararlo con la siguiente\r\n            // propiedad:\r\n            credentials: 'include'\r\n        });\r\n        const respuesta     = await fetchResponse.json();\r\n        \r\n        return {...respuesta.data};\r\n    },\r\n\r\n    /**\r\n     * Crea un nuevo posteo en el servidor.\r\n     *\r\n     * @param {{}} data\r\n     * @return {Promise<Response | never>}\r\n     */\r\n    create: function(data) {\r\n        return fetch(`${API}/posteos`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            credentials: 'include'\r\n        })\r\n            .then(rta => rta.json())\r\n            .then(response => {\r\n                return response;\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Edita un posteo en el servidor según su id.\r\n     *\r\n     * @param {Number} id\r\n     * @param {{}} data\r\n     * @return {Promise<Response | never>}\r\n     */\r\n    edit: function(id, data) {\r\n        return fetch(`${API}/posteos.php?id=${id}`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify(data),\r\n            // Por defecto, fetch *no* envía ni recibe cookies.\r\n            // Si quiero permitir el uso de cookies, tengo que explícitamente declararlo con la siguiente\r\n            // propiedad:\r\n            credentials: 'include'\r\n        })\r\n            .then(rta => rta.json())\r\n            .then(response => {\r\n                return response;\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Elimina un posteo en el servidor según su id.\r\n     *\r\n     * @param {Number} id\r\n     * @return {Promise}\r\n     */\r\n    deleteItem: function(id) {\r\n        return fetch(`${API}/posteos/${id}`, {\r\n            method: 'DELETE',\r\n            credentials: 'include'\r\n        })\r\n            .then(rta => rta.json())\r\n            .then(response => {\r\n                return response.success;\r\n            });\r\n    }\r\n};\r\n\r\n// Exportamos el servicio.\r\nexport default posteosService;\r\n"],"mappings":"AAAA,SAAQA,GAAG,QAAO,cAAc;AAGhC,IAAIC,OAAO,GAAG,IAAI;;AAElB;AACA,MAAMC,cAAc,GAAG;EACnB;AACJ;AACA;AACA;AACA;EACIC,MAAM,EAAE,kBAAiB;IACrB,MAAMC,aAAa,GAAG,MAAMC,KAAK,CAAE,GAAEL,GAAI,UAAS,EAAE;MAC5D;IAAA,CACS,CAAC;IACF,MAAMM,SAAS,GAAG,MAAMF,aAAa,CAACG,IAAI,EAAE;IAC5CN,OAAO,GAAGK,SAAS,CAACE,IAAI;IAExB,OAAO,CAAC,GAAGP,OAAO,CAAC;EACvB,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;EACIQ,UAAU,EAAC,gBAAeC,EAAE,EAAE;IAE1B,MAAMN,aAAa,GAAG,MAAMC,KAAK,CAAE,GAAEL,GAAI,gBAAeU,EAAG,EAAC,EAAE;MAC1DC,WAAW,EAAE;IACjB,CAAC,CAAC;IACF,MAAML,SAAS,GAAG,MAAMF,aAAa,CAACG,IAAI,EAAE;IAE5C,OAAO,CAAC,GAAGD,SAAS,CAACE,IAAI,CAAC;EAC9B,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;EACI,MAAMI,OAAO,CAACF,EAAE,EAAE;IACd,MAAMN,aAAa,GAAG,MAAMC,KAAK,CAAE,GAAEL,GAAI,YAAWU,EAAG,EAAC,EAAE;MACtD;MACA;MACA;MACAC,WAAW,EAAE;IACjB,CAAC,CAAC;IACF,MAAML,SAAS,GAAO,MAAMF,aAAa,CAACG,IAAI,EAAE;IAEhD,OAAO;MAAC,GAAGD,SAAS,CAACE;IAAI,CAAC;EAC9B,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;EACIK,MAAM,EAAE,UAASL,IAAI,EAAE;IACnB,OAAOH,KAAK,CAAE,GAAEL,GAAI,UAAS,EAAE;MAC3Bc,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC;MAC1BG,WAAW,EAAE;IACjB,CAAC,CAAC,CACGO,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACZ,IAAI,EAAE,CAAC,CACvBW,IAAI,CAACE,QAAQ,IAAI;MACd,OAAOA,QAAQ;IACnB,CAAC,CAAC;EACV,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,IAAI,EAAE,UAASX,EAAE,EAAEF,IAAI,EAAE;IACrB,OAAOH,KAAK,CAAE,GAAEL,GAAI,mBAAkBU,EAAG,EAAC,EAAE;MACxCI,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC;MAC1B;MACA;MACA;MACAG,WAAW,EAAE;IACjB,CAAC,CAAC,CACGO,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACZ,IAAI,EAAE,CAAC,CACvBW,IAAI,CAACE,QAAQ,IAAI;MACd,OAAOA,QAAQ;IACnB,CAAC,CAAC;EACV,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;EACIE,UAAU,EAAE,UAASZ,EAAE,EAAE;IACrB,OAAOL,KAAK,CAAE,GAAEL,GAAI,YAAWU,EAAG,EAAC,EAAE;MACjCI,MAAM,EAAE,QAAQ;MAChBH,WAAW,EAAE;IACjB,CAAC,CAAC,CACGO,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACZ,IAAI,EAAE,CAAC,CACvBW,IAAI,CAACE,QAAQ,IAAI;MACd,OAAOA,QAAQ,CAACG,OAAO;IAC3B,CAAC,CAAC;EACV;AACJ,CAAC;;AAED;AACA,eAAerB,cAAc"}]}